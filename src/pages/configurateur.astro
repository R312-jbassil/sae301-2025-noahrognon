---
import Layout from '../layouts/Layout.astro';

---

<Layout title="Configurateur | TaVue">
	<main class="bg-neutral-950 text-neutral-100">
		<div class="mx-auto max-w-6xl px-4 py-10">
			<header class="mb-8">
				<p class="text-sm uppercase tracking-[0.4em] text-neutral-500">
					Personnalisation
				</p>
				<h1 class="mt-2 text-3xl font-semibold text-white md:text-4xl">
					Configurateur de lunettes
				</h1>
				<p class="mt-3 max-w-2xl text-sm text-neutral-400">
					Ajustez chaque d&eacute;tail de votre monture et visualisez
					instantan&eacute;ment le rendu.
				</p>
			</header>

			<div class="grid grid-cols-12 gap-6">
				<section class="col-span-12 lg:col-span-8 space-y-4">
					<div
						id="stage"
						class="flex aspect-[16/9] items-center justify-center rounded-2xl bg-gradient-to-b from-neutral-900 to-black p-4 shadow-xl"
					>
						<div id="svgHost" class="h-full w-full"></div>
					</div>

					<div class="rounded-xl border border-neutral-800 bg-neutral-900/70 p-4">
						<div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
							<div id="recap" class="text-sm text-neutral-300">
								Prix&nbsp;: <span id="price">250</span>&euro;
								<br class="md:hidden" />
								<span class="md:ml-4"
									>Progression <span id="progress">0%</span></span
								>
							</div>
							<p id="aiSummary" class="hidden text-xs text-amber-300 md:text-right"></p>
							<div class="flex flex-wrap gap-2">
								<button
									id="btnInspire"
									type="button"
									class="rounded-lg border border-amber-500/40 bg-amber-500/10 px-4 py-2 text-sm font-medium text-amber-200 transition hover:bg-amber-500/20"
								>
									Inspiration IA
								</button>
								<button
									id="btnSave"
									type="button"
									class="rounded-lg bg-amber-600 px-4 py-2 text-sm font-medium text-neutral-950 transition hover:bg-amber-500"
								>
									Sauvegarder
								</button>
								<button
									id="btnOrder"
									type="button"
									class="rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-emerald-500"
								>
									Commander
								</button>
							</div>
						</div>
					</div>
				</section>

				<aside class="col-span-12 space-y-6 lg:col-span-4">
					<section class="rounded-xl border border-neutral-800 bg-neutral-900/70 p-4">
						<h2 class="mb-4 text-lg font-semibold text-white">
							Mat&eacute;riaux
						</h2>
						<label class="mb-2 block text-sm font-medium text-neutral-400" for="materialFrame"
							>Monture</label
						>
						<select
							id="materialFrame"
							class="w-full rounded-lg border border-neutral-800 bg-neutral-800 px-3 py-2 text-sm text-white focus:border-amber-500 focus:outline-none"
						>
							<option value="metal">M&eacute;tal</option>
							<option value="acetate">Ac&eacute;tate</option>
							<option value="bois">Bois</option>
							<option value="titane">Titane</option>
							<option value="or18k">Or 18K</option>
							<option value="orrose">Or rose</option>
						</select>

						<label class="mt-4 mb-2 block text-sm font-medium text-neutral-400" for="materialTemples"
							>Branches</label
						>
						<select
							id="materialTemples"
							class="w-full rounded-lg border border-neutral-800 bg-neutral-800 px-3 py-2 text-sm text-white focus:border-amber-500 focus:outline-none"
						>
							<option value="metal">M&eacute;tal</option>
							<option value="acetate">Ac&eacute;tate</option>
							<option value="bois">Bois</option>
							<option value="titane">Titane</option>
							<option value="or18k">Or 18K</option>
							<option value="orrose">Or rose</option>
						</select>
					</section>

					<section class="rounded-xl border border-neutral-800 bg-neutral-900/70 p-4 space-y-4">
						<h2 class="text-lg font-semibold text-white">Style</h2>

						<div>
							<label class="mb-2 block text-sm font-medium text-neutral-400" for="bridge"
								>Largeur du pont (mm)</label
							>
							<input
								id="bridge"
								type="range"
								min="2"
								max="10"
								value="5"
								class="w-full accent-amber-500"
							/>
						</div>

						<div>
							<label class="mb-2 block text-sm font-medium text-neutral-400" for="lensSize"
								>Taille des verres (1-10)</label
							>
							<input
								id="lensSize"
								type="range"
								min="1"
								max="10"
								value="5"
								class="w-full accent-amber-500"
							/>
						</div>

						<div>
							<label class="mb-2 block text-sm font-medium text-neutral-400" for="lensColor"
								>Couleur des verres</label
							>
							<select
								id="lensColor"
								class="w-full rounded-lg border border-neutral-800 bg-neutral-800 px-3 py-2 text-sm text-white focus:border-amber-500 focus:outline-none"
							>
								<option value="transparent">Transparent</option>
								<option value="gris">Gris fonc&eacute;</option>
								<option value="brun">Brun chaud</option>
								<option value="bleu">Bleu miroir</option>
								<option value="vert">Vert polaris&eacute;</option>
								<option value="rose">Rose teint&eacute;</option>
							</select>
						</div>

						<div>
							<p class="mb-2 text-sm font-medium text-neutral-400">Finition</p>
							<div class="flex flex-wrap gap-2">
								<button
									type="button"
									data-finish="brillant"
									class="finish-btn rounded-lg border border-transparent bg-neutral-800 px-3 py-2 text-sm transition hover:border-amber-500"
								>
									Brillant
								</button>
								<button
									type="button"
									data-finish="mat"
									class="finish-btn rounded-lg border border-transparent bg-neutral-800 px-3 py-2 text-sm transition hover:border-amber-500"
								>
									Mat
								</button>
								<button
									type="button"
									data-finish="satine"
									class="finish-btn rounded-lg border border-transparent bg-neutral-800 px-3 py-2 text-sm transition hover:border-amber-500"
								>
									Satin&eacute;
								</button>
							</div>
						</div>
					</section>

					<section class="rounded-xl border border-neutral-800 bg-neutral-900/70 p-4 space-y-4">
						<h2 class="text-lg font-semibold text-white">Gravure</h2>
						<input
							id="engraveText"
							type="text"
							maxlength="20"
							placeholder="Ex&nbsp;: Initiales, date..."
							class="w-full rounded-lg border border-neutral-800 bg-neutral-800 px-3 py-2 text-sm text-white placeholder:text-neutral-500 focus:border-amber-500 focus:outline-none"
						/>

						<div class="flex gap-4 text-sm text-neutral-300">
							<label class="flex items-center gap-2">
								<input
									type="radio"
									name="engraveSide"
									value="gauche"
									class="accent-amber-500"
									checked
								/>
								Branche gauche
							</label>
							<label class="flex items-center gap-2">
								<input
									type="radio"
									name="engraveSide"
									value="droite"
									class="accent-amber-500"
								/>
								Branche droite
							</label>
						</div>
					</section>

					<section class="rounded-xl border border-neutral-800 bg-neutral-900/70 p-4 space-y-2">
						<p class="text-sm text-neutral-400">Prix final estim&eacute;</p>
						<p class="text-3xl font-semibold text-white">
							<span id="priceBig">250</span>&euro;
						</p>
						<p id="comboTip" class="text-xs text-neutral-500"></p>
					</section>

					<section class="rounded-xl border border-amber-700/40 bg-amber-500/10 p-4">
						<p class="text-xs uppercase tracking-[0.35em] text-amber-300">Nudge atelier</p>
						<h3 class="mt-2 text-sm font-semibold text-[#F7E9CE]">
							+45&nbsp;€ offerts en points fidélité pour chaque sauvegarde validée cette semaine.
						</h3>
						<p class="mt-2 text-xs text-amber-200/70">
							Créez au moins deux designs différents, nous créditons automatiquement votre compte.
						</p>
						<a
							href="/mes-creations"
							class="mt-3 inline-flex items-center gap-2 text-xs font-semibold text-amber-200 hover:text-amber-100"
						>
							Voir mes créations
							<svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.6" class="h-3.5 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="M4.667 3.833h6.5v6.5"></path>
								<path stroke-linecap="round" stroke-linejoin="round" d="M5 11 11.333 4.667"></path>
							</svg>
						</a>
					</section>
				</aside>
			</div>
		</div>
	</main>

	<script type="module" src="/scripts/configurateur.js"></script>
</Layout>
